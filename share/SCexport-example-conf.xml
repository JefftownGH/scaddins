<?xml version="1.0" encoding="utf-8" ?>

<!-- 
     SCexport config file template.
     Andrew Nicholas 20151020

     Place this in the same folder as your Central file and rename it to
     REVIT_FILE_NAME.xml
-->

<!--
     #### FilenameSchemes #### 
     The node <FilenameScheme> is used to define one or more export schemes

     Available parameters(xml nodes) are:
        <ProjectNumber>
        <SheetNumber>
        <Discipline>**
        <Text>**
        <Revision>
        <RevisionDescription>
        <SheetName>
        <Underscore>
        <Hyphen>

        **Can add a value to these nodes
-->

<SCexport name="Generic SCexport config file">
    
  <!--This is the first scheme. The first is the default-->
  <FilenameScheme label="Architectural USQ">
    <ProjectNumber/>
    <Hyphen/>
    <SheetNumber/>
    <Text>[</Text>
    <Revision/>
    <Text>]</Text>
  </FilenameScheme>
    
  <!--this scheme renames dwg files after export-->
  <FilenameScheme label="Architectural USQ and ACONEX" hooks="aconexDWGSuffix">
    <ProjectNumber/>
    <Hyphen/>
    <SheetNumber/>
    <Text>[</Text>
    <Revision/>
    <Text>]</Text>
  </FilenameScheme>
 
  <!--this scheme creates transparent png files after a pfg export-->    
  <FilenameScheme label="Marketing Plans" hooks="convertToPng">
    <ProjectNumber/>
    <Hyphen/>
    <SheetNumber/>
    <Text>[</Text>
    <Revision/>
    <Text>]</Text>
  </FilenameScheme>

  <FilenameScheme label="Architectural AD">
    <ProjectNumber/>
    <Hyphen/>
    <Discipline>AD</Discipline>
    <Hyphen/>
    <SheetNumber/>
    <Text>[</Text>
    <Revision/>
    <Text>]</Text>
  </FilenameScheme>

  <FilenameScheme label="Landscape LD">
    <ProjectNumber/>
    <Hyphen/>
    <Discipline>LD</Discipline>
    <Hyphen/>
    <SheetNumber/>
    <Text>[</Text>
    <Revision/>
    <Text>]</Text>
  </FilenameScheme>

  <FilenameScheme label="Brackets">
    <ProjectNumber/>
    <Hyphen/>
    <Discipline></Discipline>
    <Hyphen/>
    <SheetNumber/>
    <Text>(</Text>
    <Revision/>
    <Text>)</Text>
  </FilenameScheme>

  <FilenameScheme label="CRevisions">
    <Text>49-FV-SC001</Text>
    <Hyphen/>
    <SheetNumber/>
    <Underscore/>
    <Text>C</Text>
    <Revision/>
  </FilenameScheme>

  <FilenameScheme label="Simple">
    <SheetNumber/>
    <Underscore/>
    <Revision/>
  </FilenameScheme>

  <!--
    #### PostExportHook #### 
    Hooks  will run after an export.

    Available parameters(xml nodes) are:
     <Command>
     <Args>
     <SupportedFileExtensions>

     Use the following replacement string where needed:
        $height
        $width
        $fullExportName
        $fullExportPath
        $exportDir
        $pageSize
        $projectNumber
        $sheetDescription
        $sheetNumber
        $sheetRevision
        $sheetRevisionDate
        $sheetRevisionDescription
   -->

  <!--
    ## convert exported pdf to a transparent png on the fly ##

    rem place this text in a script called createPNG.bat
    rem you will need:
    rem	-	imagemagick http://imagemagick.sourceforge.net/http/www/archives.html
    rem	-	ghostscript http://www.ghostscript.com/download/

    convert -size 1920x1080 xc:white temp.png
    convert -transparent white temp.png canvas.png
    convert -fuzz 10%% -transparent white -density 300 -resize x1080 %1 temp.png
    composite -gravity center temp.png canvas.png %1.png
  -->
  <PostExportHook name="convertToPng">
     <Command>C:\Temp\createPNG.bat</Command>
     <Args>$exportDir\$fullExportName.$fileExtension</Args>
     <SupportedFileExtensions>pdf</SupportedFileExtensions>
  </PostExportHook>

  <!--simple hook to rename dwg files with a _DWG suffix-->
  <PostExportHook name="aconexDWGSuffix">
     <Command>cmd.exe</Command>
     <Args> /C RENAME "$exportDir\$fullExportName.$fileExtension" "$fullExportName_DWG.$fileExtension"</Args>
     <SupportedFileExtensions>dwg</SupportedFileExtensions>
  </PostExportHook>
 
</SCexport>

  <!-- vim: set nu tabstop=4 shiftwidth=4 expandtab : -->
